# Cody's TODO: OpenClaw PWA Feature Parity

This document outlines the missing or incomplete features in the PWA client compared to the standard OpenClaw TUI.

## 1. Session Management
- [ ] **Create New Sessions:** Implement `/session.new` or a UI button to create a fresh session.
- [ ] **Delete Sessions:** Add a "Delete" action in the session picker (modal) or via a `/session.delete` command.
- [ ] **Session Renaming:** Allow renaming sessions via the UI or `/session.rename`.
- [ ] **Extended Session Info:** Show the session's "last message" snippet or date in the picker (currently only displays titles).

## 2. Agent & Model Selection
- [ ] **Enhanced Picker UI:** Add tooltips or descriptions for models and agents in the modal pickers.
- [ ] **Search Refinement:** Ensure the fuzzy search in the modal correctly handles model tags/categories.
- [ ] **Persistence:** Ensure that manually set agents/models are correctly patched to the session for persistence across reloads.

## 3. Real-time Status & Context
- [ ] **Usage Statistics:** Display token usage (input/output) for the current session or last turn.
- [ ] **Context Window Bar:** Implement a visual indicator of current context window usage vs. limit.
- [ ] **Reasoning Toggle:** Add a UI toggle (like the TUI's `/reasoning`) to enable/disable detailed reasoning/thinking output.
- [ ] **Gateway Health:** Show more detailed server stats (e.g., connected clients, memory) in the `/status` view.

## 4. Tool Execution Visibility
- [ ] **Current Tool Indicator:** When the agent runs a tool, display the tool name and state (e.g., `Running web_search...`) instead of just "Thinking...".
- [ ] **Tool Call/Result Blocks:** Render tool calls and their results explicitly in the chat log (the TUI shows these as distinct blocks; the PWA currently hides or swallows them in system messages).

## 5. Media Rendering
- [ ] **Image Rendering:** The TUI supports image blocks; the PWA needs to handle `MEDIA:` paths or base64 images within the markdown renderer.
- [ ] **Enhanced Syntax Highlighting:** Ensure CSS covers all common languages (check `highlight.js` bundles).
- [ ] **File Downloads/Links:** Provide clear buttons for files created/modified by agents.

## 6. Command Support
- [ ] **Command Bar:** Replace the simple textarea with a smarter command bar that shows help text as you type.
- [ ] **Keybindings:** Add support for TUI-standard keybindings (e.g., `Ctrl+o` for pickers, `Ctrl+n` for new session).
- [ ] **Slash Command Arguments:** Improve the autocomplete to suggest arguments for `/model` or `/agent` without opening the full modal.

## 7. Notifications & Events
- [ ] **Heartbeat monitoring:** Visually reflect if the heartbeats fail (separate from WebSocket close).
- [ ] **System Event Toasts:** Use a toast notification system for background events (e.g., "Agent finished task in [Session Name]") when the tab isn't focused.
- [ ] **Tab Styling:** Update the document title/favicon when a new message arrives.

---
*Generated by the Review Agent for 'cody'.*
